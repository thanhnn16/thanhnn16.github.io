<div class="container-fluid text-center">
    <header>
        <nav class="navbar navbar-expand-lg navbar-light fixed-top" aria-label="menu">
            <div class="logo">
                <a class="navbar-brand" href="/"><img src="../img/logo/logo.png" alt="logo"/></a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/" title="Trang chủ">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="about" title="Giới thiệu">ABOUT</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                           data-bs-toggle="dropdown"
                           aria-expanded="false" title="Thư viện">GALLERY</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="/gallery/ho-chi-minh">Ho Chi Minh</a></li>
                            <li><a class="dropdown-item" href="/gallery/ha-noi">Ha Noi</a></li>
                            <li><a class="dropdown-item" href="/gallery/hoi-an">Hoi An</a></li>
                            <li><a class="dropdown-item" href="/gallery/ha-long-bay">Ha Long Bay</a></li>
                            <li><a class="dropdown-item" href="/gallery/da-lat">Da Lat</a></li>
                            <li>
                                <hr class="dropdown-divider"/>
                            </li>
                            <li>
                                <a class="dropdown-item" href="/gallery/all">ALL...</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="blog" title="Blog">BLOG</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="contact-us" title="Liên hệ chúng tôi">CONTACT US</a>
                    </li>
                </ul>
                <button type="button" class="btn btn-outline-light text-dark me-4" data-bs-toggle="modal"
                        data-bs-target="#login-form" data-bs-backdrop="true">
                    LOGIN
                </button>
                <!-- The Modal -->
                <div class="modal" id="login-form">
                    <div class="modal-dialog modal-dialog-centered modal-xl">
                        <div class="modal-content">
                            <!-- Modal Header -->
                            <div class="modal-header">
                                <h4 class="modal-title">LOGIN</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <!-- Modal body -->
                            <div class="modal-body">
                                <div class="h-custom">
                                    <div class="row d-flex justify-content-center align-items-center h-100">
                                        <div class="col-md-9 col-lg-6 col-xl-5">
                                            <img src="../../../img/logo/login.jpg" class="img-fluid" alt="Sample image">
                                        </div>
                                        <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                                            <form method="post" id="login-form" action="/auth/login">
                                                <div
                                                        class="d-flex flex-row align-items-center justify-content-center justify-content-lg-start">
                                                    <p class="lead fw-normal mb-0 me-3">Sign in with</p>
                                                    <button type="button" class="btn btn-primary btn-floating mx-1">
                                                        <i class="fab fa-facebook-f"></i>
                                                    </button>

                                                    <button type="button" class="btn btn-primary btn-floating mx-1">
                                                        <i class="fab fa-twitter"></i>
                                                    </button>

                                                    <button type="button" class="btn btn-primary btn-floating mx-1">
                                                        <i class="fab fa-linkedin-in"></i>
                                                    </button>
                                                </div>

                                                <div class="divider d-flex align-items-center my-4">
                                                    <p class="text-center fw-bold mx-3 mb-0">Or</p>
                                                </div>

                                                <!-- Email input -->
                                                <div class="form-outline mb-4" style="text-align: left">
                                                    <label class="form-label" for="form3Example3">Email address</label>
                                                    <input type="email" id="email"
                                                           name="email"
                                                           class="form-control form-control-lg"
                                                           placeholder="Enter a valid email address"/>
                                                    <div class="errorEmail" style="color: red"></div>
                                                </div>
                                                <!-- Password input -->
                                                <div class="form-outline mb-3" style="text-align: left">
                                                    <label class="form-label" for="form3Example4">Password</label>
                                                    <input type="password" id="pass"
                                                           name="pass"
                                                           class="form-control form-control-lg"
                                                           placeholder="Enter password"/>
                                                    <div class="errorPassword" style="color: red"></div>
                                                </div>
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <!-- Checkbox -->
                                                    <div class="form-check mb-0">
                                                        <input class="form-check-input me-2" type="checkbox" value=""
                                                               id="form2Example3"/>
                                                        <label class="form-check-label" for="form2Example3">
                                                            Remember me
                                                        </label>
                                                    </div>
                                                    <a href="#!" class="text-body">Forgot password?</a>
                                                </div>
                                                <div class="text-center text-lg-start mt-4 pt-2">
                                                    <button type="submit" class="btn btn-primary btn-lg"
                                                            style="padding-left: 2.5rem; padding-right: 2.5rem;">Login
                                                    </button>
                                                    <p class="small fw-bold mt-2 pt-1 mb-0">Don't have an account? <a
                                                            href="../../../auth/signup"
                                                            class="link-danger">Register</a></p>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Modal footer -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                            </div>

                        </div>
                    </div>
                </div>
                <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                    <button class="btn btn-outline-danger" type="submit">Search</button>
                </form>
            </div>
        </nav>
        <div id="back-to-top">
            <button onclick="topFunction()">
                <svg xmlns="http://www.w3.org/2000/svg"
                     viewBox="0 0 320 512">
                    <!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                    <path
                            d="M182.6 137.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"/>
                </svg>
            </button>
        </div>
    </header>
</div>
<script>

    const form = document.getElementById('login-form');

    const emailError = document.querySelector('.errorEmail');
    const passError = document.querySelector('.errorPassword');

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = document.getElementById('email').value;
        const pass = document.getElementById('pass').value;
        console.log(email, pass)
        emailError.innerHTML = '';
        passError.innerHTML = '';
        try {
            const res = await fetch('/auth/login', {
                method: 'POST',
                body: JSON.stringify({email, pass}),
                headers: {'Content-Type': 'application/json'}
            });
            const data = await res.json();
            console.log(data);
            if (data.errors) {
                emailError.innerHTML = data.errors.email;
                passError.innerHTML = data.errors.pass;
            }
            if (data.user) {
                location.assign('/');
            }
        } catch (err) {
            console.log(err);
        }
    });
</script>